

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>azure.storage.queue.aio package &mdash; Azure SDK for Python 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="azure.servicemanagement package" href="azure.servicemanagement.html" />
    <link rel="prev" title="azure.storage.queue package" href="azure.storage.queue.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Azure SDK for Python
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart_authentication.html">Resource Management Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../multicloud.html">Multi-cloud - use Azure on all regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">Exception handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../servicemanagement.html">Service Management (Legacy)</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="azure.common.html">azure.common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.applicationinsights.html">azure.applicationinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.batch.html">azure.batch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.anomalydetector.html">azure.cognitiveservices.anomalydetector package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.knowledge.qnamaker.html">azure.cognitiveservices.knowledge.qnamaker package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.language.luis.authoring.html">azure.cognitiveservices.language.luis.authoring package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.language.luis.runtime.html">azure.cognitiveservices.language.luis.runtime package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.language.spellcheck.html">azure.cognitiveservices.language.spellcheck package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.language.textanalytics.html">azure.cognitiveservices.language.textanalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.autosuggest.html">azure.cognitiveservices.search.autosuggest package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.customimagesearch.html">azure.cognitiveservices.search.customimagesearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.customsearch.html">azure.cognitiveservices.search.customsearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.entitysearch.html">azure.cognitiveservices.search.entitysearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.imagesearch.html">azure.cognitiveservices.search.imagesearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.newssearch.html">azure.cognitiveservices.search.newssearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.videosearch.html">azure.cognitiveservices.search.videosearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.visualsearch.html">azure.cognitiveservices.search.visualsearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.search.websearch.html">azure.cognitiveservices.search.websearch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.vision.computervision.html">azure.cognitiveservices.vision.computervision package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.vision.contentmoderator.html">azure.cognitiveservices.vision.contentmoderator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.vision.customvision.prediction.html">azure.cognitiveservices.vision.customvision.prediction package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.vision.customvision.training.html">azure.cognitiveservices.vision.customvision.training package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cognitiveservices.vision.face.html">azure.cognitiveservices.vision.face package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.core.html">azure.core package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.cosmos.html">azure.cosmos package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.eventgrid.html">azure.eventgrid package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.eventhub.html">azure.eventhub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.eventhub.extensions.html">azure.eventhub.extensions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.graphrbac.html">azure.graphrbac package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.identity.html">azure.identity package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.keyvault.keys.html">azure.keyvault.keys package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.keyvault.secrets.html">azure.keyvault.secrets package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.loganalytics.html">azure.loganalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.advisor.html">azure.mgmt.advisor package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.alertsmanagement.html">azure.mgmt.alertsmanagement package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.apimanagement.html">azure.mgmt.apimanagement package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.applicationinsights.html">azure.mgmt.applicationinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.authorization.html">azure.mgmt.authorization package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.automation.html">azure.mgmt.automation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.batch.html">azure.mgmt.batch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.batchai.html">azure.mgmt.batchai package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.billing.html">azure.mgmt.billing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.cdn.html">azure.mgmt.cdn package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.cognitiveservices.html">azure.mgmt.cognitiveservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.commerce.html">azure.mgmt.commerce package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.compute.html">azure.mgmt.compute package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.consumption.html">azure.mgmt.consumption package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.containerinstance.html">azure.mgmt.containerinstance package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.containerregistry.html">azure.mgmt.containerregistry package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.containerservice.html">azure.mgmt.containerservice package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.cosmosdb.html">azure.mgmt.cosmosdb package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.databricks.html">azure.mgmt.databricks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datafactory.html">azure.mgmt.datafactory package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datalake.analytics.account.html">azure.mgmt.datalake.analytics.account package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datalake.analytics.catalog.html">azure.mgmt.datalake.analytics.catalog package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datalake.analytics.job.html">azure.mgmt.datalake.analytics.job package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datalake.store.html">azure.mgmt.datalake.store package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.datamigration.html">azure.mgmt.datamigration package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.devspaces.html">azure.mgmt.devspaces package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.devtestlabs.html">azure.mgmt.devtestlabs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.dns.html">azure.mgmt.dns package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.eventgrid.html">azure.mgmt.eventgrid package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.eventhub.html">azure.mgmt.eventhub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.hanaonazure.html">azure.mgmt.hanaonazure package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.hdinsight.html">azure.mgmt.hdinsight package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.imagebuilder.html">azure.mgmt.imagebuilder package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.iotcentral.html">azure.mgmt.iotcentral package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.iothub.html">azure.mgmt.iothub package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.iothubprovisioningservices.html">azure.mgmt.iothubprovisioningservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.keyvault.html">azure.mgmt.keyvault package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.kusto.html">azure.mgmt.kusto package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.labservices.html">azure.mgmt.labservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.loganalytics.html">azure.mgmt.loganalytics package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.logic.html">azure.mgmt.logic package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.machinelearningcompute.html">azure.mgmt.machinelearningcompute package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.managementgroups.html">azure.mgmt.managementgroups package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.managementpartner.html">azure.mgmt.managementpartner package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.maps.html">azure.mgmt.maps package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.marketplaceordering.html">azure.mgmt.marketplaceordering package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.media.html">azure.mgmt.media package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.mixedreality.html">azure.mgmt.mixedreality package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.monitor.html">azure.mgmt.monitor package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.msi.html">azure.mgmt.msi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.netapp.html">azure.mgmt.netapp package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.network.html">azure.mgmt.network package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.notificationhubs.html">azure.mgmt.notificationhubs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.policyinsights.html">azure.mgmt.policyinsights package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.powerbiembedded.html">azure.mgmt.powerbiembedded package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.rdbms.mariadb.html">azure.mgmt.rdbms.mariadb package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.rdbms.mysql.html">azure.mgmt.rdbms.mysql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.rdbms.postgresql.html">azure.mgmt.rdbms.postgresql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.recoveryservices.html">azure.mgmt.recoveryservices package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.recoveryservicesbackup.html">azure.mgmt.recoveryservicesbackup package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.redis.html">azure.mgmt.redis package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.relay.html">azure.mgmt.relay package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.features.html">azure.mgmt.resource.features package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.links.html">azure.mgmt.resource.links package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.locks.html">azure.mgmt.resource.locks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.managedapplications.html">azure.mgmt.resource.managedapplications package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.policy.html">azure.mgmt.resource.policy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.resources.html">azure.mgmt.resource.resources package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resource.subscriptions.html">azure.mgmt.resource.subscriptions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.resourcegraph.html">azure.mgmt.resourcegraph package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.scheduler.html">azure.mgmt.scheduler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.search.html">azure.mgmt.search package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.security.html">azure.mgmt.security package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.servermanager.html">azure.mgmt.servermanager package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.servicebus.html">azure.mgmt.servicebus package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.servicefabric.html">azure.mgmt.servicefabric package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.signalr.html">azure.mgmt.signalr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.sql.html">azure.mgmt.sql package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.sqlvirtualmachine.html">azure.mgmt.sqlvirtualmachine package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.storage.html">azure.mgmt.storage package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.subscription.html">azure.mgmt.subscription package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.trafficmanager.html">azure.mgmt.trafficmanager package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.mgmt.web.html">azure.mgmt.web package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.servicebus.html">azure.servicebus package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.servicefabric.html">azure.servicefabric package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.storage.blob.html">azure.storage.blob package</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.storage.file.html">azure.storage.file package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="azure.storage.queue.html">azure.storage.queue package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="azure.storage.queue.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">azure.storage.queue.aio package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-azure.storage.queue.aio.models">azure.storage.queue.aio.models module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-azure.storage.queue.aio.queue_client_async">azure.storage.queue.aio.queue_client_async module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-azure.storage.queue.aio.queue_service_client_async">azure.storage.queue.aio.queue_service_client_async module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-azure.storage.queue.aio">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#module-azure.storage.queue.models">azure.storage.queue.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#module-azure.storage.queue.queue_client">azure.storage.queue.queue_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#module-azure.storage.queue.queue_service_client">azure.storage.queue.queue_service_client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#module-azure.storage.queue.version">azure.storage.queue.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.storage.queue.html#module-azure.storage.queue">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="azure.servicemanagement.html">azure.servicemanagement package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Azure SDK for Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="azure.storage.queue.html">azure.storage.queue package</a> &raquo;</li>
        
      <li>azure.storage.queue.aio package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/ref/azure.storage.queue.aio.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="azure-storage-queue-aio-package">
<h1>azure.storage.queue.aio package<a class="headerlink" href="#azure-storage-queue-aio-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-azure.storage.queue.aio.models">
<span id="azure-storage-queue-aio-models-module"></span><h2>azure.storage.queue.aio.models module<a class="headerlink" href="#module-azure.storage.queue.aio.models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="azure.storage.queue.aio.models.MessagesPaged">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.models.</code><code class="sig-name descname">MessagesPaged</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">continuation_token=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/models.html#MessagesPaged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.models.MessagesPaged" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncPageIterator" title="azure.core.async_paging.AsyncPageIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.core.async_paging.AsyncPageIterator</span></code></a></p>
<p>An iterable of Queue Messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of results retrieved per API call.</p></li>
<li><p><strong>current_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><em>QueueMessage</em></a><em>)</em>) – The current page of listed results.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>callable</em>) – Function to retrieve the next page of items.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of messages to retrieve per
call.</p></li>
</ul>
</dd>
</dl>
<p>Return an async iterator of pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>get_next</strong> – Callable that take the continuation token and return a HTTP response</p></li>
<li><p><strong>extract_data</strong> – Callable that take an HTTP response and return a tuple continuation token,
list of ReturnType</p></li>
<li><p><strong>continuation_token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token needed by get_next</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.models.QueuePropertiesPaged">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.models.</code><code class="sig-name descname">QueuePropertiesPaged</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">continuation_token=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/models.html#QueuePropertiesPaged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.models.QueuePropertiesPaged" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncPageIterator" title="azure.core.async_paging.AsyncPageIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.core.async_paging.AsyncPageIterator</span></code></a></p>
<p>An iterable of Queue properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The service URL.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A queue name prefix being used to filter the list.</p></li>
<li><p><strong>current_marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token of the current page of results.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of results retrieved per API call.</p></li>
<li><p><strong>next_marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token to retrieve the next page of results.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode being used to list results. The available
options include “primary” and “secondary”.</p></li>
<li><p><strong>current_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a><em>)</em>) – The current page of listed results.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>callable</em>) – Function to retrieve the next page of items.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Filters the results to return only queues whose names
begin with the specified prefix.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of queue names to retrieve per
call.</p></li>
<li><p><strong>marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – An opaque continuation token.</p></li>
</ul>
</dd>
</dl>
<p>Return an async iterator of pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>get_next</strong> – Callable that take the continuation token and return a HTTP response</p></li>
<li><p><strong>extract_data</strong> – Callable that take an HTTP response and return a tuple continuation token,
list of ReturnType</p></li>
<li><p><strong>continuation_token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token needed by get_next</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-azure.storage.queue.aio.queue_client_async">
<span id="azure-storage-queue-aio-queue-client-async-module"></span><h2>azure.storage.queue.aio.queue_client_async module<a class="headerlink" href="#module-azure.storage.queue.aio.queue_client_async" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.queue_client_async.</code><code class="sig-name descname">QueueClient</code><span class="sig-paren">(</span><em class="sig-param">queue_url</em>, <em class="sig-param">queue=None</em>, <em class="sig-param">credential=None</em>, <em class="sig-param">loop=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.base_client_async.AsyncStorageAccountHostsMixin</span></code>, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_client.QueueClient" title="azure.storage.queue.queue_client.QueueClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue.queue_client.QueueClient</span></code></a></p>
<p>A async client to interact with a specific Queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full endpoint URL to the Queue, including SAS token if used. This could be
either the primary endpoint, or the secondard endpint depending on the current <cite>location_mode</cite>.</p></li>
<li><p><strong>primary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full primary endpoint URL.</p></li>
<li><p><strong>primary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the primary endpoint.</p></li>
<li><p><strong>secondary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full secondard endpoint URL if configured. If not available
a ValueError will be raised. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>secondary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the secondary endpoint. If not available this
will be None. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode that the client is currently using. By default
this will be “primary”. Options include “primary” and “secondary”.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>queue_url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full URI to the queue. This can also be a URL to the storage
account, in which case the queue must also be specified.</p></li>
<li><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue. If specified, this value will override
a queue value specified in the queue URL.</p></li>
<li><p><strong>credential</strong> – The credentials with which to authenticate. This is optional if the
account URL already has a SAS token. The value can be a SAS token string, and account
shared access key, or an instance of a TokenCredentials class from azure.identity.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Create the queue client with url and credential.</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueClient</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">QueueClient</span><span class="p">(</span>
    <span class="n">queue_url</span><span class="o">=</span><span class="n">queue_client</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
    <span class="n">credential</span><span class="o">=</span><span class="n">sas_token</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Create the queue client with a connection string.</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueClient</span>
<span class="n">queue_client</span> <span class="o">=</span> <span class="n">QueueClient</span><span class="o">.</span><span class="n">from_connection_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_string</span><span class="p">(</span><span class="n">storage_account</span><span class="p">,</span> <span class="n">storage_account_key</span><span class="p">),</span> <span class="s2">&quot;asyncqueuetest&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.clear_messages">
<em class="property">async </em><code class="sig-name descname">clear_messages</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.clear_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.clear_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all messages from the specified queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Clears all messages.</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">clear_messages</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.create_queue">
<em class="property">async </em><code class="sig-name descname">create_queue</code><span class="sig-paren">(</span><em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.create_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.create_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new queue in the storage account.</p>
<p>If a queue with the same name already exists, the operation fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict containing name-value pairs to associate with the queue as
metadata. Note that metadata names preserve the case with which they
were created, but are case-insensitive when set or read.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None or the result of cls(response)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>~azure.storage.queue._generated.models._models.StorageErrorException</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Create a queue.</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">create_queue</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.delete_message">
<em class="property">async </em><code class="sig-name descname">delete_message</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">pop_receipt=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.delete_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.delete_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified message.</p>
<p>Normally after a client retrieves a message with the receive messages operation,
the client is expected to process and delete the message. To delete the
message, you must have the message object itself, or two items of data: id and pop_receipt.
The id is returned from the previous receive_messages operation. The
pop_receipt is returned from the most recent <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or
<a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.update_message" title="azure.storage.queue.aio.queue_client_async.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a> operation. In order for the delete_message operation
to succeed, the pop_receipt specified on the request must match the
pop_receipt returned from the <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.update_message" title="azure.storage.queue.aio.queue_client_async.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a>
operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The message object or id identifying the message to delete.</p></li>
<li><p><strong>pop_receipt</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A valid pop receipt value returned from an earlier call
to the <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.update_message" title="azure.storage.queue.aio.queue_client_async.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a>.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Delete a message.</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the message at the front of the queue</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>

    <span class="c1"># Delete the specified message</span>
    <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.delete_queue">
<em class="property">async </em><code class="sig-name descname">delete_queue</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.delete_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.delete_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified queue and any messages it contains.</p>
<p>When a queue is successfully deleted, it is immediately marked for deletion
and is no longer accessible to clients. The queue is later removed from
the Queue service during garbage collection.</p>
<p>Note that deleting a queue is likely to take at least 40 seconds to complete.
If an operation is attempted against the queue while it was being deleted,
an <code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> will be thrown.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Delete a queue.</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_queue</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.enqueue_message">
<em class="property">async </em><code class="sig-name descname">enqueue_message</code><span class="sig-paren">(</span><em class="sig-param">content</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">time_to_live=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.enqueue_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.enqueue_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new message to the back of the message queue.</p>
<p>The visibility timeout specifies the time that the message will be
invisible. After the timeout expires, the message will become visible.
If a visibility timeout is not specified, the default value of 0 is used.</p>
<p>The message time-to-live specifies how long a message will remain in the
queue. The message will be deleted from the queue when the time-to-live
period expires.</p>
<p>If the key-encryption-key field is set on the local service object, this method will
encrypt the content before uploading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<em>obj</em>) – Message content. Allowed type is determined by the encode_function
set on the service. Default is str. The encoded message can be up to
64KB in size.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – If not specified, the default value is 0. Specifies the
new visibility timeout value, in seconds, relative to server time.
The value must be larger than or equal to 0, and cannot be
larger than 7 days. The visibility timeout of a message cannot be
set to a value later than the expiry time. visibility_timeout
should be set to a value smaller than the time-to-live value.</p></li>
<li><p><strong>time_to_live</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Specifies the time-to-live interval for the message, in
seconds. The time-to-live may be any positive number or -1 for infinity. If this
parameter is omitted, the default time-to-live is 7 days.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> object.
This object is also populated with the content although it is not
returned from the service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage">QueueMessage</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Enqueue messages.</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message1&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message2&quot;</span><span class="p">,</span> <span class="n">visibility_timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>  <span class="c1"># wait 30s before becoming visible</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message3&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message4&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message5&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_access_policy">
<em class="property">async </em><code class="sig-name descname">get_queue_access_policy</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.get_queue_access_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_access_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns details about any stored access policies specified on the
queue that may be used with Shared Access Signatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of access policies associated with the queue.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict(str, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.AccessPolicy" title="azure.storage.queue.models.AccessPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccessPolicy</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_properties">
<em class="property">async </em><code class="sig-name descname">get_queue_properties</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.get_queue_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all user-defined metadata for the specified queue.</p>
<p>The data returned does not include the queue’s list of messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Properties for the specified container within a container object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties">QueueProperties</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Get the properties on the queue.</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">get_queue_properties</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.peek_messages">
<em class="property">async </em><code class="sig-name descname">peek_messages</code><span class="sig-paren">(</span><em class="sig-param">max_messages=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.peek_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.peek_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves one or more messages from the front of the queue, but does
not alter the visibility of the message.</p>
<p>Only messages that are visible may be retrieved. When a message is retrieved
for the first time with a call to <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a>, its dequeue_count property
is set to 1. If it is not deleted and is subsequently retrieved again, the
dequeue_count property is incremented. The client may use this value to
determine how many times a message has been retrieved. Note that a call
to peek_messages does not increment the value of DequeueCount, but returns
this value for the client to read.</p>
<p>If the key-encryption-key or resolver field is set on the local service object,
the messages will be decrypted before being returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_messages</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – A nonzero integer value that specifies the number of
messages to peek from the queue, up to a maximum of 32. By default,
a single message is peeked from the queue with this operation.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> objects. Note that
time_next_visible and pop_receipt will not be populated as peek does
not pop the message and can only retrieve already visible messages.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a>)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Peek messages.</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Peek at one message at the front of the queue</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">peek_messages</span><span class="p">()</span>

<span class="c1"># Peek at the last 5 messages</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">peek_messages</span><span class="p">(</span><span class="n">max_messages</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Print the last 5 messages</span>
<span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages">
<code class="sig-name descname">receive_messages</code><span class="sig-paren">(</span><em class="sig-param">messages_per_page=None</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.receive_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one or more messages from the front of the queue.</p>
<p>When a message is retrieved from the queue, the response includes the message
content and a pop_receipt value, which is required to delete the message.
The message is not automatically deleted from the queue, but after it has
been retrieved, it is not visible to other clients for the time interval
specified by the visibility_timeout parameter.</p>
<p>If the key-encryption-key or resolver field is set on the local service object, the messages will be
decrypted before being returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>messages_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – A nonzero integer value that specifies the number of
messages to retrieve from the queue, up to a maximum of 32. If
fewer are visible, the visible messages are returned. By default,
a single message is retrieved from the queue with this operation.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – If not specified, the default value is 0. Specifies the
new visibility timeout value, in seconds, relative to server time.
The value must be larger than or equal to 0, and cannot be
larger than 7 days. The visibility timeout of a message cannot be
set to a value later than the expiry time. visibility_timeout
should be set to a value smaller than the time-to-live value.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a message iterator of dict-like Message objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncItemPaged" title="azure.core.async_paging.AsyncItemPaged">AsyncItemPaged</a>[Message]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Receive messages from the queue.</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Receive messages one-by-one</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># Receive messages by batch</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">(</span><span class="n">messages_per_page</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg_batch</span> <span class="ow">in</span> <span class="n">messages</span><span class="o">.</span><span class="n">by_page</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msg_batch</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.set_queue_access_policy">
<em class="property">async </em><code class="sig-name descname">set_queue_access_policy</code><span class="sig-paren">(</span><em class="sig-param">signed_identifiers=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.set_queue_access_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.set_queue_access_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets stored access policies for the queue that may be used with Shared
Access Signatures.</p>
<p>When you set permissions for a queue, the existing permissions are replaced.
To update the queue’s permissions, call <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_access_policy" title="azure.storage.queue.aio.queue_client_async.QueueClient.get_queue_access_policy"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_queue_access_policy()</span></code></a> to fetch
all access policies associated with the queue, modify the access policy
that you wish to change, and then call this function with the complete
set of data to perform the update.</p>
<p>When you establish a stored access policy on a queue, it may take up to
30 seconds to take effect. During this interval, a shared access signature
that is associated with the stored access policy will throw an
<code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> until the access policy becomes active.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signed_identifiers</strong> (dict(str, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.AccessPolicy" title="azure.storage.queue.models.AccessPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccessPolicy</span></code></a>)) – A list of SignedIdentifier access policies to associate with the queue.
The list may contain up to 5 elements. An empty list
will clear the access policies set on the service.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">Set an access policy on the queue.</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an access policy</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">AccessPolicy</span><span class="p">,</span> <span class="n">QueuePermissions</span>
<span class="n">access_policy</span> <span class="o">=</span> <span class="n">AccessPolicy</span><span class="p">()</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">expiry</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">permission</span> <span class="o">=</span> <span class="n">QueuePermissions</span><span class="o">.</span><span class="n">READ</span>
<span class="n">identifiers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;my-access-policy-id&#39;</span><span class="p">:</span> <span class="n">access_policy</span><span class="p">}</span>

<span class="c1"># Set the access policy</span>
<span class="n">await</span> <span class="n">queue_client</span><span class="o">.</span><span class="n">set_queue_access_policy</span><span class="p">(</span><span class="n">identifiers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.set_queue_metadata">
<em class="property">async </em><code class="sig-name descname">set_queue_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.set_queue_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.set_queue_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets user-defined metadata on the specified queue.</p>
<p>Metadata is associated with the queue as name-value pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict containing name-value pairs to associate with the
queue as metadata.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Set metadata on the queue.</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="s1">&#39;val3&#39;</span><span class="p">}</span>
<span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">set_queue_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_client_async.QueueClient.update_message">
<em class="property">async </em><code class="sig-name descname">update_message</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">pop_receipt=None</em>, <em class="sig-param">content=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.update_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_client_async.QueueClient.update_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the visibility timeout of a message. You can also use this
operation to update the contents of a message.</p>
<p>This operation can be used to continually extend the invisibility of a
queue message. This functionality can be useful if you want a worker role
to “lease” a queue message. For example, if a worker role calls <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a>
and recognizes that it needs more time to process a message, it can
continually extend the message’s invisibility until it is processed. If
the worker role were to fail during processing, eventually the message
would become visible again and another worker role could process it.</p>
<p>If the key-encryption-key field is set on the local service object, this method will
encrypt the content before uploading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The message object or id identifying the message to update.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Specifies the new visibility timeout value, in seconds,
relative to server time. The new value must be larger than or equal
to 0, and cannot be larger than 7 days. The visibility timeout of a
message cannot be set to a value later than the expiry time. A
message can be updated until it has been deleted or has expired.
The message object or message id identifying the message to update.</p></li>
<li><p><strong>pop_receipt</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A valid pop receipt value returned from an earlier call
to the <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages" title="azure.storage.queue.aio.queue_client_async.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient.update_message" title="azure.storage.queue.aio.queue_client_async.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a> operation.</p></li>
<li><p><strong>content</strong> (<em>obj</em>) – Message content. Allowed type is determined by the encode_function
set on the service. Default is str.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> object. For convenience,
this object is also populated with the content, although it is not returned by the service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage">QueueMessage</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-azure.storage.queue.aio.queue_service_client_async">
<span id="azure-storage-queue-aio-queue-service-client-async-module"></span><h2>azure.storage.queue.aio.queue_service_client_async module<a class="headerlink" href="#module-azure.storage.queue.aio.queue_service_client_async" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.queue_service_client_async.</code><code class="sig-name descname">QueueServiceClient</code><span class="sig-paren">(</span><em class="sig-param">account_url</em>, <em class="sig-param">credential=None</em>, <em class="sig-param">loop=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.base_client_async.AsyncStorageAccountHostsMixin</span></code>, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_service_client.QueueServiceClient" title="azure.storage.queue.queue_service_client.QueueServiceClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue.queue_service_client.QueueServiceClient</span></code></a></p>
<p>A client to interact with the Queue Service at the account level.</p>
<p>This client provides operations to retrieve and configure the account properties
as well as list, create and delete queues within the account.
For operations relating to a specific queue, a client for this entity
can be retrieved using the <a class="reference internal" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_queue_client" title="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_queue_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_queue_client()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full queue service endpoint URL, including SAS token if used. This could be
either the primary endpoint, or the secondard endpint depending on the current <cite>location_mode</cite>.</p></li>
<li><p><strong>primary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full primary endpoint URL.</p></li>
<li><p><strong>primary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the primary endpoint.</p></li>
<li><p><strong>secondary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full secondard endpoint URL if configured. If not available
a ValueError will be raised. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>secondary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the secondary endpoint. If not available this
will be None. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode that the client is currently using. By default
this will be “primary”. Options include “primary” and “secondary”.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>account_url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The URL to the queue service endpoint. Any other entities included
in the URL path (e.g. queue) will be discarded. This URL can be optionally
authenticated with a SAS token.</p></li>
<li><p><strong>credential</strong> – The credentials with which to authenticate. This is optional if the
account URL already has a SAS token. The value can be a SAS token string, and account
shared access key, or an instance of a TokenCredentials class from azure.identity.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Creating the QueueServiceClient with an account url and credential.</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueServiceClient</span>
<span class="n">queue_service</span> <span class="o">=</span> <span class="n">QueueServiceClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_account_url</span><span class="p">(</span><span class="n">storage_account</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">storage_account_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Creating the QueueServiceClient with Azure Identity credentials.</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a token credential for authentication</span>
<span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">ClientSecretCredential</span>
<span class="n">token_credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_application_id</span><span class="p">,</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_application_secret</span><span class="p">,</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_tenant_id</span>
<span class="p">)</span>

<span class="c1"># Instantiate a QueueServiceClient using a token credential</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueServiceClient</span>
<span class="n">queue_service</span> <span class="o">=</span> <span class="n">QueueServiceClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_account_url</span><span class="p">(</span><span class="n">storage_account</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">storage_account_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.create_queue">
<em class="property">async </em><code class="sig-name descname">create_queue</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.create_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.create_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new queue under the specified account.</p>
<p>If a queue with the same name already exists, the operation fails.
Returns a client with which to interact with the newly created queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The name of the queue to create.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict with name_value pairs to associate with the
queue as metadata. Example: {‘Category’: ‘test’}</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient" title="azure.storage.queue.aio.queue_client_async.QueueClient">QueueClient</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Create a queue in the service.</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">create_queue</span><span class="p">(</span><span class="s2">&quot;asynctestqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.delete_queue">
<em class="property">async </em><code class="sig-name descname">delete_queue</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.delete_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.delete_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified queue and any messages it contains.</p>
<p>When a queue is successfully deleted, it is immediately marked for deletion
and is no longer accessible to clients. The queue is later removed from
the Queue service during garbage collection.</p>
<p>Note that deleting a queue is likely to take at least 40 seconds to complete.
If an operation is attempted against the queue while it was being deleted,
an <code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> will be thrown.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue to delete. This can either be the name of the queue,
or an instance of QueueProperties.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Delete a queue in the service.</span><a class="headerlink" href="#id16" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">delete_queue</span><span class="p">(</span><span class="s2">&quot;asynctestqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_queue_client">
<code class="sig-name descname">get_queue_client</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_queue_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_queue_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a client to interact with the specified queue.</p>
<p>The queue need not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue. This can either be the name of the queue,
or an instance of QueueProperties.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">QueueClient</span></code> object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient" title="azure.storage.queue.aio.queue_client_async.QueueClient">QueueClient</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Get the queue client.</span><a class="headerlink" href="#id17" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the queue client to interact with a specific queue</span>
<span class="n">queue</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">get_queue_client</span><span class="p">(</span><span class="s2">&quot;myasyncqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_service_properties">
<em class="property">async </em><code class="sig-name descname">get_service_properties</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_service_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_service_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the properties of a storage account’s Queue service, including
Azure Storage Analytics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>StorageServiceProperties</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Getting queue service properties.</span><a class="headerlink" href="#id18" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">properties</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">get_service_properties</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_service_stats">
<em class="property">async </em><code class="sig-name descname">get_service_stats</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_service_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.get_service_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves statistics related to replication for the Queue service.</p>
<p>It is only available when read-access geo-redundant replication is enabled for
the storage account.</p>
<p>With geo-redundant replication, Azure Storage maintains your data durable
in two locations. In both locations, Azure Storage constantly maintains
multiple healthy replicas of your data. The location where you read,
create, update, or delete data is the primary storage account location.
The primary location exists in the region you choose at the time you
create an account via the Azure Management Azure classic portal, for
example, North Central US. The location to which your data is replicated
is the secondary location. The secondary location is automatically
determined based on the location of the primary; it is in a second data
center that resides in the same region as the primary location. Read-only
access is available from the secondary location, if read-access geo-redundant
replication is enabled for your storage account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The queue service stats.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>StorageServiceStats</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.list_queues">
<code class="sig-name descname">list_queues</code><span class="sig-paren">(</span><em class="sig-param">name_starts_with=None</em>, <em class="sig-param">include_metadata=False</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.list_queues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.list_queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator to list the queues under the specified account.</p>
<p>The generator will lazily follow the continuation tokens returned by
the service and stop when all queues have been returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_starts_with</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Filters the results to return only queues whose names
begin with the specified prefix.</p></li>
<li><p><strong>include_metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Specifies that queue metadata be returned in the response.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of queue names to retrieve per API
call. If the request does not specify the server will return up to 5,000 items.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds. This function may make multiple
calls to the service in which case the timeout value specified will be
applied to each individual call.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An iterable (auto-paging) of QueueProperties.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>AsyncItemPaged[QueueProperties]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">List queues in the service.</span><a class="headerlink" href="#id19" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># List all the queues in the service</span>
<span class="n">list_queues</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">list_queues</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">queue</span> <span class="ow">in</span> <span class="n">list_queues</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>

<span class="c1"># List the queues in the service that start with the name &quot;test&quot;</span>
<span class="n">list_test_queues</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">list_queues</span><span class="p">(</span><span class="n">name_starts_with</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">queue</span> <span class="ow">in</span> <span class="n">list_test_queues</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.set_service_properties">
<em class="property">async </em><code class="sig-name descname">set_service_properties</code><span class="sig-paren">(</span><em class="sig-param">logging=None</em>, <em class="sig-param">hour_metrics=None</em>, <em class="sig-param">minute_metrics=None</em>, <em class="sig-param">cors=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.set_service_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.queue_service_client_async.QueueServiceClient.set_service_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the properties of a storage account’s Queue service, including
Azure Storage Analytics.</p>
<p>If an element (e.g. Logging) is left as None, the
existing settings on the service for that functionality are preserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logging</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Logging" title="azure.storage.queue.models.Logging"><em>Logging</em></a>) – Groups the Azure Analytics Logging settings.</p></li>
<li><p><strong>hour_metrics</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Metrics" title="azure.storage.queue.models.Metrics"><em>Metrics</em></a>) – The hour metrics settings provide a summary of request
statistics grouped by API in hourly aggregates for queues.</p></li>
<li><p><strong>minute_metrics</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Metrics" title="azure.storage.queue.models.Metrics"><em>Metrics</em></a>) – The minute metrics settings provide request statistics
for each minute for queues.</p></li>
<li><p><strong>cors</strong> (list(<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.CorsRule" title="azure.storage.queue.models.CorsRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsRule</span></code></a>)) – You can include up to five CorsRule elements in the
list. If an empty list is specified, all CORS rules will be deleted,
and CORS will be disabled for the service.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Setting queue service properties.</span><a class="headerlink" href="#id20" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create service properties</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">Logging</span><span class="p">,</span> <span class="n">Metrics</span><span class="p">,</span> <span class="n">CorsRule</span><span class="p">,</span> <span class="n">RetentionPolicy</span>

<span class="c1"># Create logging settings</span>
<span class="n">logging</span> <span class="o">=</span> <span class="n">Logging</span><span class="p">(</span><span class="n">read</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Create metrics for requests statistics</span>
<span class="n">hour_metrics</span> <span class="o">=</span> <span class="n">Metrics</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">include_apis</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="n">minute_metrics</span> <span class="o">=</span> <span class="n">Metrics</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">include_apis</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                         <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Create CORS rules</span>
<span class="n">cors_rule1</span> <span class="o">=</span> <span class="n">CorsRule</span><span class="p">([</span><span class="s1">&#39;www.xyz.com&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="n">allowed_origins</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;www.xyz.com&#39;</span><span class="p">,</span> <span class="s2">&quot;www.ab.com&quot;</span><span class="p">,</span> <span class="s2">&quot;www.bc.com&quot;</span><span class="p">]</span>
<span class="n">allowed_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="n">max_age_in_seconds</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">exposed_headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x-ms-meta-data*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-source*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-abc&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-bcd&quot;</span><span class="p">]</span>
<span class="n">allowed_headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x-ms-meta-data*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-target*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-xyz&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-foo&quot;</span><span class="p">]</span>
<span class="n">cors_rule2</span> <span class="o">=</span> <span class="n">CorsRule</span><span class="p">(</span>
    <span class="n">allowed_origins</span><span class="p">,</span>
    <span class="n">allowed_methods</span><span class="p">,</span>
    <span class="n">max_age_in_seconds</span><span class="o">=</span><span class="n">max_age_in_seconds</span><span class="p">,</span>
    <span class="n">exposed_headers</span><span class="o">=</span><span class="n">exposed_headers</span><span class="p">,</span>
    <span class="n">allowed_headers</span><span class="o">=</span><span class="n">allowed_headers</span><span class="p">)</span>

<span class="n">cors</span> <span class="o">=</span> <span class="p">[</span><span class="n">cors_rule1</span><span class="p">,</span> <span class="n">cors_rule2</span><span class="p">]</span>

<span class="c1"># Set the service properties</span>
<span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">set_service_properties</span><span class="p">(</span><span class="n">logging</span><span class="p">,</span> <span class="n">hour_metrics</span><span class="p">,</span> <span class="n">minute_metrics</span><span class="p">,</span> <span class="n">cors</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-azure.storage.queue.aio">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-azure.storage.queue.aio" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="azure.storage.queue.aio.QueueClient">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueueClient</code><span class="sig-paren">(</span><em class="sig-param">queue_url</em>, <em class="sig-param">queue=None</em>, <em class="sig-param">credential=None</em>, <em class="sig-param">loop=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.base_client_async.AsyncStorageAccountHostsMixin</span></code>, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_client.QueueClient" title="azure.storage.queue.queue_client.QueueClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue.queue_client.QueueClient</span></code></a></p>
<p>A async client to interact with a specific Queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full endpoint URL to the Queue, including SAS token if used. This could be
either the primary endpoint, or the secondard endpint depending on the current <cite>location_mode</cite>.</p></li>
<li><p><strong>primary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full primary endpoint URL.</p></li>
<li><p><strong>primary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the primary endpoint.</p></li>
<li><p><strong>secondary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full secondard endpoint URL if configured. If not available
a ValueError will be raised. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>secondary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the secondary endpoint. If not available this
will be None. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode that the client is currently using. By default
this will be “primary”. Options include “primary” and “secondary”.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>queue_url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full URI to the queue. This can also be a URL to the storage
account, in which case the queue must also be specified.</p></li>
<li><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue. If specified, this value will override
a queue value specified in the queue URL.</p></li>
<li><p><strong>credential</strong> – The credentials with which to authenticate. This is optional if the
account URL already has a SAS token. The value can be a SAS token string, and account
shared access key, or an instance of a TokenCredentials class from azure.identity.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Create the queue client with url and credential.</span><a class="headerlink" href="#id21" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueClient</span>
<span class="n">q</span> <span class="o">=</span> <span class="n">QueueClient</span><span class="p">(</span>
    <span class="n">queue_url</span><span class="o">=</span><span class="n">queue_client</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
    <span class="n">credential</span><span class="o">=</span><span class="n">sas_token</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Create the queue client with a connection string.</span><a class="headerlink" href="#id22" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueClient</span>
<span class="n">queue_client</span> <span class="o">=</span> <span class="n">QueueClient</span><span class="o">.</span><span class="n">from_connection_string</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_string</span><span class="p">(</span><span class="n">storage_account</span><span class="p">,</span> <span class="n">storage_account_key</span><span class="p">),</span> <span class="s2">&quot;asyncqueuetest&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.clear_messages">
<em class="property">async </em><code class="sig-name descname">clear_messages</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.clear_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.clear_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all messages from the specified queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Clears all messages.</span><a class="headerlink" href="#id23" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">clear_messages</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.create_queue">
<em class="property">async </em><code class="sig-name descname">create_queue</code><span class="sig-paren">(</span><em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.create_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.create_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new queue in the storage account.</p>
<p>If a queue with the same name already exists, the operation fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict containing name-value pairs to associate with the queue as
metadata. Note that metadata names preserve the case with which they
were created, but are case-insensitive when set or read.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None or the result of cls(response)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>~azure.storage.queue._generated.models._models.StorageErrorException</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Create a queue.</span><a class="headerlink" href="#id24" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">create_queue</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.delete_message">
<em class="property">async </em><code class="sig-name descname">delete_message</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">pop_receipt=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.delete_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.delete_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified message.</p>
<p>Normally after a client retrieves a message with the receive messages operation,
the client is expected to process and delete the message. To delete the
message, you must have the message object itself, or two items of data: id and pop_receipt.
The id is returned from the previous receive_messages operation. The
pop_receipt is returned from the most recent <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or
<a class="reference internal" href="#azure.storage.queue.aio.QueueClient.update_message" title="azure.storage.queue.aio.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a> operation. In order for the delete_message operation
to succeed, the pop_receipt specified on the request must match the
pop_receipt returned from the <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.update_message" title="azure.storage.queue.aio.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a>
operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The message object or id identifying the message to delete.</p></li>
<li><p><strong>pop_receipt</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A valid pop receipt value returned from an earlier call
to the <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.update_message" title="azure.storage.queue.aio.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a>.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Delete a message.</span><a class="headerlink" href="#id25" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the message at the front of the queue</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>

    <span class="c1"># Delete the specified message</span>
    <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.delete_queue">
<em class="property">async </em><code class="sig-name descname">delete_queue</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.delete_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.delete_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified queue and any messages it contains.</p>
<p>When a queue is successfully deleted, it is immediately marked for deletion
and is no longer accessible to clients. The queue is later removed from
the Queue service during garbage collection.</p>
<p>Note that deleting a queue is likely to take at least 40 seconds to complete.
If an operation is attempted against the queue while it was being deleted,
an <code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> will be thrown.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Delete a queue.</span><a class="headerlink" href="#id26" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_queue</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.enqueue_message">
<em class="property">async </em><code class="sig-name descname">enqueue_message</code><span class="sig-paren">(</span><em class="sig-param">content</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">time_to_live=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.enqueue_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.enqueue_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new message to the back of the message queue.</p>
<p>The visibility timeout specifies the time that the message will be
invisible. After the timeout expires, the message will become visible.
If a visibility timeout is not specified, the default value of 0 is used.</p>
<p>The message time-to-live specifies how long a message will remain in the
queue. The message will be deleted from the queue when the time-to-live
period expires.</p>
<p>If the key-encryption-key field is set on the local service object, this method will
encrypt the content before uploading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>content</strong> (<em>obj</em>) – Message content. Allowed type is determined by the encode_function
set on the service. Default is str. The encoded message can be up to
64KB in size.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – If not specified, the default value is 0. Specifies the
new visibility timeout value, in seconds, relative to server time.
The value must be larger than or equal to 0, and cannot be
larger than 7 days. The visibility timeout of a message cannot be
set to a value later than the expiry time. visibility_timeout
should be set to a value smaller than the time-to-live value.</p></li>
<li><p><strong>time_to_live</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Specifies the time-to-live interval for the message, in
seconds. The time-to-live may be any positive number or -1 for infinity. If this
parameter is omitted, the default time-to-live is 7 days.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> object.
This object is also populated with the content although it is not
returned from the service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage">QueueMessage</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Enqueue messages.</span><a class="headerlink" href="#id27" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message1&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message2&quot;</span><span class="p">,</span> <span class="n">visibility_timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">),</span>  <span class="c1"># wait 30s before becoming visible</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message3&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message4&quot;</span><span class="p">),</span>
    <span class="n">queue</span><span class="o">.</span><span class="n">enqueue_message</span><span class="p">(</span><span class="sa">u</span><span class="s2">&quot;message5&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.get_queue_access_policy">
<em class="property">async </em><code class="sig-name descname">get_queue_access_policy</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.get_queue_access_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.get_queue_access_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns details about any stored access policies specified on the
queue that may be used with Shared Access Signatures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of access policies associated with the queue.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict(str, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.AccessPolicy" title="azure.storage.queue.models.AccessPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccessPolicy</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.get_queue_properties">
<em class="property">async </em><code class="sig-name descname">get_queue_properties</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.get_queue_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.get_queue_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all user-defined metadata for the specified queue.</p>
<p>The data returned does not include the queue’s list of messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Properties for the specified container within a container object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties">QueueProperties</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Get the properties on the queue.</span><a class="headerlink" href="#id28" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">get_queue_properties</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.peek_messages">
<em class="property">async </em><code class="sig-name descname">peek_messages</code><span class="sig-paren">(</span><em class="sig-param">max_messages=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.peek_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.peek_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves one or more messages from the front of the queue, but does
not alter the visibility of the message.</p>
<p>Only messages that are visible may be retrieved. When a message is retrieved
for the first time with a call to <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a>, its dequeue_count property
is set to 1. If it is not deleted and is subsequently retrieved again, the
dequeue_count property is incremented. The client may use this value to
determine how many times a message has been retrieved. Note that a call
to peek_messages does not increment the value of DequeueCount, but returns
this value for the client to read.</p>
<p>If the key-encryption-key or resolver field is set on the local service object,
the messages will be decrypted before being returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_messages</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – A nonzero integer value that specifies the number of
messages to peek from the queue, up to a maximum of 32. By default,
a single message is peeked from the queue with this operation.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> objects. Note that
time_next_visible and pop_receipt will not be populated as peek does
not pop the message and can only retrieve already visible messages.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a>)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Peek messages.</span><a class="headerlink" href="#id29" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Peek at one message at the front of the queue</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">peek_messages</span><span class="p">()</span>

<span class="c1"># Peek at the last 5 messages</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">peek_messages</span><span class="p">(</span><span class="n">max_messages</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Print the last 5 messages</span>
<span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.receive_messages">
<code class="sig-name descname">receive_messages</code><span class="sig-paren">(</span><em class="sig-param">messages_per_page=None</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.receive_messages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes one or more messages from the front of the queue.</p>
<p>When a message is retrieved from the queue, the response includes the message
content and a pop_receipt value, which is required to delete the message.
The message is not automatically deleted from the queue, but after it has
been retrieved, it is not visible to other clients for the time interval
specified by the visibility_timeout parameter.</p>
<p>If the key-encryption-key or resolver field is set on the local service object, the messages will be
decrypted before being returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>messages_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – A nonzero integer value that specifies the number of
messages to retrieve from the queue, up to a maximum of 32. If
fewer are visible, the visible messages are returned. By default,
a single message is retrieved from the queue with this operation.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – If not specified, the default value is 0. Specifies the
new visibility timeout value, in seconds, relative to server time.
The value must be larger than or equal to 0, and cannot be
larger than 7 days. The visibility timeout of a message cannot be
set to a value later than the expiry time. visibility_timeout
should be set to a value smaller than the time-to-live value.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns a message iterator of dict-like Message objects.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncItemPaged" title="azure.core.async_paging.AsyncItemPaged">AsyncItemPaged</a>[Message]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Receive messages from the queue.</span><a class="headerlink" href="#id30" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Receive messages one-by-one</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># Receive messages by batch</span>
<span class="n">messages</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">receive_messages</span><span class="p">(</span><span class="n">messages_per_page</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">msg_batch</span> <span class="ow">in</span> <span class="n">messages</span><span class="o">.</span><span class="n">by_page</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msg_batch</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">delete_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.set_queue_access_policy">
<em class="property">async </em><code class="sig-name descname">set_queue_access_policy</code><span class="sig-paren">(</span><em class="sig-param">signed_identifiers=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.set_queue_access_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.set_queue_access_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets stored access policies for the queue that may be used with Shared
Access Signatures.</p>
<p>When you set permissions for a queue, the existing permissions are replaced.
To update the queue’s permissions, call <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.get_queue_access_policy" title="azure.storage.queue.aio.QueueClient.get_queue_access_policy"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_queue_access_policy()</span></code></a> to fetch
all access policies associated with the queue, modify the access policy
that you wish to change, and then call this function with the complete
set of data to perform the update.</p>
<p>When you establish a stored access policy on a queue, it may take up to
30 seconds to take effect. During this interval, a shared access signature
that is associated with the stored access policy will throw an
<code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> until the access policy becomes active.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signed_identifiers</strong> (dict(str, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.AccessPolicy" title="azure.storage.queue.models.AccessPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">AccessPolicy</span></code></a>)) – A list of SignedIdentifier access policies to associate with the queue.
The list may contain up to 5 elements. An empty list
will clear the access policies set on the service.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Set an access policy on the queue.</span><a class="headerlink" href="#id31" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an access policy</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">AccessPolicy</span><span class="p">,</span> <span class="n">QueuePermissions</span>
<span class="n">access_policy</span> <span class="o">=</span> <span class="n">AccessPolicy</span><span class="p">()</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">expiry</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">access_policy</span><span class="o">.</span><span class="n">permission</span> <span class="o">=</span> <span class="n">QueuePermissions</span><span class="o">.</span><span class="n">READ</span>
<span class="n">identifiers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;my-access-policy-id&#39;</span><span class="p">:</span> <span class="n">access_policy</span><span class="p">}</span>

<span class="c1"># Set the access policy</span>
<span class="n">await</span> <span class="n">queue_client</span><span class="o">.</span><span class="n">set_queue_access_policy</span><span class="p">(</span><span class="n">identifiers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.set_queue_metadata">
<em class="property">async </em><code class="sig-name descname">set_queue_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.set_queue_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.set_queue_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets user-defined metadata on the specified queue.</p>
<p>Metadata is associated with the queue as name-value pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict containing name-value pairs to associate with the
queue as metadata.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Set metadata on the queue.</span><a class="headerlink" href="#id32" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;val1&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="s1">&#39;val2&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="s1">&#39;val3&#39;</span><span class="p">}</span>
<span class="n">await</span> <span class="n">queue</span><span class="o">.</span><span class="n">set_queue_metadata</span><span class="p">(</span><span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueClient.update_message">
<em class="property">async </em><code class="sig-name descname">update_message</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">visibility_timeout=None</em>, <em class="sig-param">pop_receipt=None</em>, <em class="sig-param">content=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_client_async.html#QueueClient.update_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueClient.update_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the visibility timeout of a message. You can also use this
operation to update the contents of a message.</p>
<p>This operation can be used to continually extend the invisibility of a
queue message. This functionality can be useful if you want a worker role
to “lease” a queue message. For example, if a worker role calls <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a>
and recognizes that it needs more time to process a message, it can
continually extend the message’s invisibility until it is processed. If
the worker role were to fail during processing, eventually the message
would become visible again and another worker role could process it.</p>
<p>If the key-encryption-key field is set on the local service object, this method will
encrypt the content before uploading.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The message object or id identifying the message to update.</p></li>
<li><p><strong>visibility_timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Specifies the new visibility timeout value, in seconds,
relative to server time. The new value must be larger than or equal
to 0, and cannot be larger than 7 days. The visibility timeout of a
message cannot be set to a value later than the expiry time. A
message can be updated until it has been deleted or has expired.
The message object or message id identifying the message to update.</p></li>
<li><p><strong>pop_receipt</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A valid pop receipt value returned from an earlier call
to the <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.receive_messages" title="azure.storage.queue.aio.QueueClient.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages()</span></code></a> or <a class="reference internal" href="#azure.storage.queue.aio.QueueClient.update_message" title="azure.storage.queue.aio.QueueClient.update_message"><code class="xref py py-func docutils literal notranslate"><span class="pre">update_message()</span></code></a> operation.</p></li>
<li><p><strong>content</strong> (<em>obj</em>) – Message content. Allowed type is determined by the encode_function
set on the service. Default is str.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><code class="xref py py-class docutils literal notranslate"><span class="pre">QueueMessage</span></code></a> object. For convenience,
this object is also populated with the content, although it is not returned by the service.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage">QueueMessage</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.QueueServiceClient">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueueServiceClient</code><span class="sig-paren">(</span><em class="sig-param">account_url</em>, <em class="sig-param">credential=None</em>, <em class="sig-param">loop=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.base_client_async.AsyncStorageAccountHostsMixin</span></code>, <a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_service_client.QueueServiceClient" title="azure.storage.queue.queue_service_client.QueueServiceClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue.queue_service_client.QueueServiceClient</span></code></a></p>
<p>A client to interact with the Queue Service at the account level.</p>
<p>This client provides operations to retrieve and configure the account properties
as well as list, create and delete queues within the account.
For operations relating to a specific queue, a client for this entity
can be retrieved using the <a class="reference internal" href="#azure.storage.queue.aio.QueueServiceClient.get_queue_client" title="azure.storage.queue.aio.QueueServiceClient.get_queue_client"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_queue_client()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full queue service endpoint URL, including SAS token if used. This could be
either the primary endpoint, or the secondard endpint depending on the current <cite>location_mode</cite>.</p></li>
<li><p><strong>primary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full primary endpoint URL.</p></li>
<li><p><strong>primary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the primary endpoint.</p></li>
<li><p><strong>secondary_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The full secondard endpoint URL if configured. If not available
a ValueError will be raised. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>secondary_hostname</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The hostname of the secondary endpoint. If not available this
will be None. To explicitly specify a secondary hostname, use the optional
<cite>secondary_hostname</cite> keyword argument on instantiation.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode that the client is currently using. By default
this will be “primary”. Options include “primary” and “secondary”.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>account_url</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The URL to the queue service endpoint. Any other entities included
in the URL path (e.g. queue) will be discarded. This URL can be optionally
authenticated with a SAS token.</p></li>
<li><p><strong>credential</strong> – The credentials with which to authenticate. This is optional if the
account URL already has a SAS token. The value can be a SAS token string, and account
shared access key, or an instance of a TokenCredentials class from azure.identity.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Creating the QueueServiceClient with an account url and credential.</span><a class="headerlink" href="#id33" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueServiceClient</span>
<span class="n">queue_service</span> <span class="o">=</span> <span class="n">QueueServiceClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_account_url</span><span class="p">(</span><span class="n">storage_account</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">storage_account_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Creating the QueueServiceClient with Azure Identity credentials.</span><a class="headerlink" href="#id34" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a token credential for authentication</span>
<span class="kn">from</span> <span class="nn">azure.identity</span> <span class="kn">import</span> <span class="n">ClientSecretCredential</span>
<span class="n">token_credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_application_id</span><span class="p">,</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_application_secret</span><span class="p">,</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">active_directory_tenant_id</span>
<span class="p">)</span>

<span class="c1"># Instantiate a QueueServiceClient using a token credential</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">QueueServiceClient</span>
<span class="n">queue_service</span> <span class="o">=</span> <span class="n">QueueServiceClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_account_url</span><span class="p">(</span><span class="n">storage_account</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="n">storage_account_key</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.create_queue">
<em class="property">async </em><code class="sig-name descname">create_queue</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">metadata=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.create_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.create_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new queue under the specified account.</p>
<p>If a queue with the same name already exists, the operation fails.
Returns a client with which to interact with the newly created queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The name of the queue to create.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict with name_value pairs to associate with the
queue as metadata. Example: {‘Category’: ‘test’}</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient" title="azure.storage.queue.aio.queue_client_async.QueueClient">QueueClient</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">Create a queue in the service.</span><a class="headerlink" href="#id35" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">create_queue</span><span class="p">(</span><span class="s2">&quot;asynctestqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.delete_queue">
<em class="property">async </em><code class="sig-name descname">delete_queue</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.delete_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.delete_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the specified queue and any messages it contains.</p>
<p>When a queue is successfully deleted, it is immediately marked for deletion
and is no longer accessible to clients. The queue is later removed from
the Queue service during garbage collection.</p>
<p>Note that deleting a queue is likely to take at least 40 seconds to complete.
If an operation is attempted against the queue while it was being deleted,
an <code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponseError</span></code> will be thrown.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue to delete. This can either be the name of the queue,
or an instance of QueueProperties.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">Delete a queue in the service.</span><a class="headerlink" href="#id36" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">delete_queue</span><span class="p">(</span><span class="s2">&quot;asynctestqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.get_queue_client">
<code class="sig-name descname">get_queue_client</code><span class="sig-paren">(</span><em class="sig-param">queue</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_queue_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.get_queue_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a client to interact with the specified queue.</p>
<p>The queue need not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>queue</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em> or </em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a>) – The queue. This can either be the name of the queue,
or an instance of QueueProperties.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">QueueClient</span></code> object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#azure.storage.queue.aio.queue_client_async.QueueClient" title="azure.storage.queue.aio.queue_client_async.QueueClient">QueueClient</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">Get the queue client.</span><a class="headerlink" href="#id37" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the queue client to interact with a specific queue</span>
<span class="n">queue</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">get_queue_client</span><span class="p">(</span><span class="s2">&quot;myasyncqueue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.get_service_properties">
<em class="property">async </em><code class="sig-name descname">get_service_properties</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_service_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.get_service_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the properties of a storage account’s Queue service, including
Azure Storage Analytics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>StorageServiceProperties</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">Getting queue service properties.</span><a class="headerlink" href="#id38" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">properties</span> <span class="o">=</span> <span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">get_service_properties</span><span class="p">()</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.get_service_stats">
<em class="property">async </em><code class="sig-name descname">get_service_stats</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.get_service_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.get_service_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves statistics related to replication for the Queue service.</p>
<p>It is only available when read-access geo-redundant replication is enabled for
the storage account.</p>
<p>With geo-redundant replication, Azure Storage maintains your data durable
in two locations. In both locations, Azure Storage constantly maintains
multiple healthy replicas of your data. The location where you read,
create, update, or delete data is the primary storage account location.
The primary location exists in the region you choose at the time you
create an account via the Azure Management Azure classic portal, for
example, North Central US. The location to which your data is replicated
is the secondary location. The secondary location is automatically
determined based on the location of the primary; it is in a second data
center that resides in the same region as the primary location. Read-only
access is available from the secondary location, if read-access geo-redundant
replication is enabled for your storage account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The queue service stats.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>StorageServiceStats</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.list_queues">
<code class="sig-name descname">list_queues</code><span class="sig-paren">(</span><em class="sig-param">name_starts_with=None</em>, <em class="sig-param">include_metadata=False</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.list_queues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.list_queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator to list the queues under the specified account.</p>
<p>The generator will lazily follow the continuation tokens returned by
the service and stop when all queues have been returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_starts_with</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Filters the results to return only queues whose names
begin with the specified prefix.</p></li>
<li><p><strong>include_metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Specifies that queue metadata be returned in the response.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of queue names to retrieve per API
call. If the request does not specify the server will return up to 5,000 items.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The server timeout, expressed in seconds. This function may make multiple
calls to the service in which case the timeout value specified will be
applied to each individual call.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An iterable (auto-paging) of QueueProperties.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>AsyncItemPaged[QueueProperties]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">List queues in the service.</span><a class="headerlink" href="#id39" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># List all the queues in the service</span>
<span class="n">list_queues</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">list_queues</span><span class="p">()</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">queue</span> <span class="ow">in</span> <span class="n">list_queues</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>

<span class="c1"># List the queues in the service that start with the name &quot;test&quot;</span>
<span class="n">list_test_queues</span> <span class="o">=</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">list_queues</span><span class="p">(</span><span class="n">name_starts_with</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
<span class="n">async</span> <span class="k">for</span> <span class="n">queue</span> <span class="ow">in</span> <span class="n">list_test_queues</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="method">
<dt id="azure.storage.queue.aio.QueueServiceClient.set_service_properties">
<em class="property">async </em><code class="sig-name descname">set_service_properties</code><span class="sig-paren">(</span><em class="sig-param">logging=None</em>, <em class="sig-param">hour_metrics=None</em>, <em class="sig-param">minute_metrics=None</em>, <em class="sig-param">cors=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/queue_service_client_async.html#QueueServiceClient.set_service_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueServiceClient.set_service_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the properties of a storage account’s Queue service, including
Azure Storage Analytics.</p>
<p>If an element (e.g. Logging) is left as None, the
existing settings on the service for that functionality are preserved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logging</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Logging" title="azure.storage.queue.models.Logging"><em>Logging</em></a>) – Groups the Azure Analytics Logging settings.</p></li>
<li><p><strong>hour_metrics</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Metrics" title="azure.storage.queue.models.Metrics"><em>Metrics</em></a>) – The hour metrics settings provide a summary of request
statistics grouped by API in hourly aggregates for queues.</p></li>
<li><p><strong>minute_metrics</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.Metrics" title="azure.storage.queue.models.Metrics"><em>Metrics</em></a>) – The minute metrics settings provide request statistics
for each minute for queues.</p></li>
<li><p><strong>cors</strong> (list(<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.CorsRule" title="azure.storage.queue.models.CorsRule"><code class="xref py py-class docutils literal notranslate"><span class="pre">CorsRule</span></code></a>)) – You can include up to five CorsRule elements in the
list. If an empty list is specified, all CORS rules will be deleted,
and CORS will be disabled for the service.</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The timeout parameter is expressed in seconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.5/library/constants.html#None" title="(in Python v3.5)">None</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">Setting queue service properties.</span><a class="headerlink" href="#id40" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create service properties</span>
<span class="kn">from</span> <span class="nn">azure.storage.queue.aio</span> <span class="kn">import</span> <span class="n">Logging</span><span class="p">,</span> <span class="n">Metrics</span><span class="p">,</span> <span class="n">CorsRule</span><span class="p">,</span> <span class="n">RetentionPolicy</span>

<span class="c1"># Create logging settings</span>
<span class="n">logging</span> <span class="o">=</span> <span class="n">Logging</span><span class="p">(</span><span class="n">read</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Create metrics for requests statistics</span>
<span class="n">hour_metrics</span> <span class="o">=</span> <span class="n">Metrics</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">include_apis</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
<span class="n">minute_metrics</span> <span class="o">=</span> <span class="n">Metrics</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">include_apis</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                         <span class="n">retention_policy</span><span class="o">=</span><span class="n">RetentionPolicy</span><span class="p">(</span><span class="n">enabled</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Create CORS rules</span>
<span class="n">cors_rule1</span> <span class="o">=</span> <span class="n">CorsRule</span><span class="p">([</span><span class="s1">&#39;www.xyz.com&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="n">allowed_origins</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;www.xyz.com&#39;</span><span class="p">,</span> <span class="s2">&quot;www.ab.com&quot;</span><span class="p">,</span> <span class="s2">&quot;www.bc.com&quot;</span><span class="p">]</span>
<span class="n">allowed_methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;PUT&#39;</span><span class="p">]</span>
<span class="n">max_age_in_seconds</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">exposed_headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x-ms-meta-data*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-source*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-abc&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-bcd&quot;</span><span class="p">]</span>
<span class="n">allowed_headers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x-ms-meta-data*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-target*&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-xyz&quot;</span><span class="p">,</span> <span class="s2">&quot;x-ms-meta-foo&quot;</span><span class="p">]</span>
<span class="n">cors_rule2</span> <span class="o">=</span> <span class="n">CorsRule</span><span class="p">(</span>
    <span class="n">allowed_origins</span><span class="p">,</span>
    <span class="n">allowed_methods</span><span class="p">,</span>
    <span class="n">max_age_in_seconds</span><span class="o">=</span><span class="n">max_age_in_seconds</span><span class="p">,</span>
    <span class="n">exposed_headers</span><span class="o">=</span><span class="n">exposed_headers</span><span class="p">,</span>
    <span class="n">allowed_headers</span><span class="o">=</span><span class="n">allowed_headers</span><span class="p">)</span>

<span class="n">cors</span> <span class="o">=</span> <span class="p">[</span><span class="n">cors_rule1</span><span class="p">,</span> <span class="n">cors_rule2</span><span class="p">]</span>

<span class="c1"># Set the service properties</span>
<span class="n">await</span> <span class="n">queue_service</span><span class="o">.</span><span class="n">set_service_properties</span><span class="p">(</span><span class="n">logging</span><span class="p">,</span> <span class="n">hour_metrics</span><span class="p">,</span> <span class="n">minute_metrics</span><span class="p">,</span> <span class="n">cors</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.Logging">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">Logging</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#Logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.Logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._generated.models._models_py3.Logging</span></code></p>
<p>Azure Analytics Logging settings.</p>
<p>All required parameters must be populated in order to send to Azure.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="azure.appconfiguration.html#module-azure.appconfiguration.version" title="azure.appconfiguration.version"><strong>version</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Required. The version of Storage Analytics to configure.</p></li>
<li><p><a class="reference internal" href="azure.batch.operations.html#azure.batch.operations.PoolOperations.delete" title="azure.batch.operations.PoolOperations.delete"><strong>delete</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Required. Indicates whether all delete requests should be logged.</p></li>
<li><p><a class="reference internal" href="azure.cosmos.html#azure.cosmos.DatabaseProxy.read" title="azure.cosmos.DatabaseProxy.read"><strong>read</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Required. Indicates whether all read requests should be logged.</p></li>
<li><p><a class="reference internal" href="azure.mgmt.compute.v2018_09_30.models.html#azure.mgmt.compute.v2018_09_30.models.AccessLevel.write" title="azure.mgmt.compute.v2018_09_30.models.AccessLevel.write"><strong>write</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Required. Indicates whether all write requests should be logged.</p></li>
<li><p><strong>retention_policy</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.RetentionPolicy" title="azure.storage.queue.models.RetentionPolicy"><em>RetentionPolicy</em></a>) – Required.
The retention policy for the metrics.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.Metrics">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">Metrics</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#Metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.Metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._generated.models._models_py3.Metrics</span></code></p>
<p>A summary of request statistics grouped by API in hour or minute aggregates.</p>
<p>All required parameters must be populated in order to send to Azure.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="azure.appconfiguration.html#module-azure.appconfiguration.version" title="azure.appconfiguration.version"><strong>version</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The version of Storage Analytics to configure.</p></li>
<li><p><a class="reference internal" href="azure.batch.models.html#azure.batch.models.SchedulingState.enabled" title="azure.batch.models.SchedulingState.enabled"><strong>enabled</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Required. Indicates whether metrics are enabled for the service.</p></li>
<li><p><strong>include_ap_is</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Indicates whether metrics should generate summary
statistics for called API operations.</p></li>
<li><p><strong>retention_policy</strong> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.RetentionPolicy" title="azure.storage.queue.models.RetentionPolicy"><em>RetentionPolicy</em></a>) – Required.
The retention policy for the metrics.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.RetentionPolicy">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">RetentionPolicy</code><span class="sig-paren">(</span><em class="sig-param">enabled=False</em>, <em class="sig-param">days=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#RetentionPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.RetentionPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._generated.models._models_py3.RetentionPolicy</span></code></p>
<p>The retention policy which determines how long the associated data should
persist.</p>
<p>All required parameters must be populated in order to send to Azure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Required. Indicates whether a retention policy is enabled
for the storage service.</p></li>
<li><p><strong>days</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Indicates the number of days that metrics or logging or
soft-deleted data should be retained. All data older than this value will
be deleted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.CorsRule">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">CorsRule</code><span class="sig-paren">(</span><em class="sig-param">allowed_origins</em>, <em class="sig-param">allowed_methods</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#CorsRule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.CorsRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._generated.models._models_py3.CorsRule</span></code></p>
<p>CORS is an HTTP feature that enables a web application running under one
domain to access resources in another domain. Web browsers implement a
security restriction known as same-origin policy that prevents a web page
from calling APIs in a different domain; CORS provides a secure way to
allow one domain (the origin domain) to call APIs in another domain.</p>
<p>All required parameters must be populated in order to send to Azure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>allowed_origins</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A list of origin domains that will be allowed via CORS, or “*” to allow
all domains. The list of must contain at least one entry. Limited to 64
origin domains. Each allowed origin can have up to 256 characters.</p></li>
<li><p><strong>allowed_methods</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A list of HTTP methods that are allowed to be executed by the origin.
The list of must contain at least one entry. For Azure Storage,
permitted methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS or PUT.</p></li>
<li><p><strong>max_age_in_seconds</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The number of seconds that the client/browser should cache a
pre-flight response.</p></li>
<li><p><strong>exposed_headers</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – Defaults to an empty list. A list of response headers to expose to CORS
clients. Limited to 64 defined headers and two prefixed headers. Each
header can be up to 256 characters.</p></li>
<li><p><strong>allowed_headers</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – Defaults to an empty list. A list of headers allowed to be part of
the cross-origin request. Limited to 64 defined headers and 2 prefixed
headers. Each header can be up to 256 characters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.AccessPolicy">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">AccessPolicy</code><span class="sig-paren">(</span><em class="sig-param">permission=None</em>, <em class="sig-param">expiry=None</em>, <em class="sig-param">start=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#AccessPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.AccessPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._generated.models._models_py3.AccessPolicy</span></code></p>
<p>Access Policy class used by the set and get access policy methods.</p>
<p>A stored access policy can specify the start time, expiry time, and
permissions for the Shared Access Signatures with which it’s associated.
Depending on how you want to control access to your resource, you can
specify all of these parameters within the stored access policy, and omit
them from the URL for the Shared Access Signature. Doing so permits you to
modify the associated signature’s behavior at any time, as well as to revoke
it. Or you can specify one or more of the access policy parameters within
the stored access policy, and the others on the URL. Finally, you can
specify all of the parameters on the URL. In this case, you can use the
stored access policy to revoke the signature, but not to modify its behavior.</p>
<p>Together the Shared Access Signature and the stored access policy must
include all fields required to authenticate the signature. If any required
fields are missing, the request will fail. Likewise, if a field is specified
both in the Shared Access Signature URL and in the stored access policy, the
request will fail with status code 400 (Bad Request).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>permission</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The permissions associated with the shared access signature. The
user is restricted to operations allowed by the permissions.
Required unless an id is given referencing a stored access policy
which contains this field. This field must be omitted if it has been
specified in an associated stored access policy.</p></li>
<li><p><strong>expiry</strong> (<em>datetime</em><em> or </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The time at which the shared access signature becomes invalid.
Required unless an id is given referencing a stored access policy
which contains this field. This field must be omitted if it has
been specified in an associated stored access policy. Azure will always
convert values to UTC. If a date is passed in without timezone info, it
is assumed to be UTC.</p></li>
<li><p><strong>start</strong> (<em>datetime</em><em> or </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The time at which the shared access signature becomes valid. If
omitted, start time for this call is assumed to be the time when the
storage service receives the request. Azure will always convert values
to UTC. If a date is passed in without timezone info, it is assumed to
be UTC.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.QueueMessage">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueueMessage</code><span class="sig-paren">(</span><em class="sig-param">content=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#QueueMessage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.models.DictMixin</span></code></p>
<p>Queue message class.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="azure.keyvault.keys.html#azure.keyvault.keys.models.KeyBase.id" title="azure.keyvault.keys.models.KeyBase.id"><strong>id</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A GUID value assigned to the message by the Queue service that
identifies the message in the queue. This value may be used together
with the value of pop_receipt to delete a message from the queue after
it has been retrieved with the receive messages operation.</p></li>
<li><p><strong>insertion_time</strong> (<em>date</em>) – A UTC date value representing the time the messages was inserted.</p></li>
<li><p><strong>expiration_time</strong> (<em>date</em>) – A UTC date value representing the time the message expires.</p></li>
<li><p><strong>dequeue_count</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – Begins with a value of 1 the first time the message is received. This
value is incremented each time the message is subsequently received.</p></li>
<li><p><strong>pop_receipt</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A receipt str which can be used together with the message_id element to
delete a message from the queue after it has been retrieved with the receive
messages operation. Only returned by receive messages operations. Set to
None for peek messages.</p></li>
<li><p><strong>time_next_visible</strong> (<em>date</em>) – A UTC date value representing the time the message will next be visible.
Only returned by receive messages operations. Set to None for peek messages.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>content</strong> (<em>obj</em>) – The message content. Type is determined by the decode_function set on
the service. Default is str.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.MessagesPaged">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">MessagesPaged</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">continuation_token=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/models.html#MessagesPaged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.MessagesPaged" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncPageIterator" title="azure.core.async_paging.AsyncPageIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.core.async_paging.AsyncPageIterator</span></code></a></p>
<p>An iterable of Queue Messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of results retrieved per API call.</p></li>
<li><p><strong>current_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueMessage" title="azure.storage.queue.models.QueueMessage"><em>QueueMessage</em></a><em>)</em>) – The current page of listed results.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>callable</em>) – Function to retrieve the next page of items.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of messages to retrieve per
call.</p></li>
</ul>
</dd>
</dl>
<p>Return an async iterator of pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>get_next</strong> – Callable that take the continuation token and return a HTTP response</p></li>
<li><p><strong>extract_data</strong> – Callable that take an HTTP response and return a tuple continuation token,
list of ReturnType</p></li>
<li><p><strong>continuation_token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token needed by get_next</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.QueuePermissions">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueuePermissions</code><span class="sig-paren">(</span><em class="sig-param">read=False</em>, <em class="sig-param">add=False</em>, <em class="sig-param">update=False</em>, <em class="sig-param">process=False</em>, <em class="sig-param">_str=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#QueuePermissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueuePermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.5/library/functions.html#object" title="(in Python v3.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>QueuePermissions class to be used with
<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_client.QueueClient.generate_shared_access_signature" title="azure.storage.queue.queue_client.QueueClient.generate_shared_access_signature"><code class="xref py py-func docutils literal notranslate"><span class="pre">generate_shared_access_signature()</span></code></a>
method and for the AccessPolicies used with
<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.queue_client.QueueClient.set_queue_access_policy" title="azure.storage.queue.queue_client.QueueClient.set_queue_access_policy"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_queue_access_policy()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions.READ" title="azure.storage.queue.models.QueuePermissions.READ"><strong>QueuePermissions.READ</strong></a> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions" title="azure.storage.queue.models.QueuePermissions"><em>QueuePermissions</em></a>) – Read metadata and properties, including message count. Peek at messages.</p></li>
<li><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions.ADD" title="azure.storage.queue.models.QueuePermissions.ADD"><strong>QueuePermissions.ADD</strong></a> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions" title="azure.storage.queue.models.QueuePermissions"><em>QueuePermissions</em></a>) – Add messages to the queue.</p></li>
<li><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions.UPDATE" title="azure.storage.queue.models.QueuePermissions.UPDATE"><strong>QueuePermissions.UPDATE</strong></a> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions" title="azure.storage.queue.models.QueuePermissions"><em>QueuePermissions</em></a>) – Update messages in the queue. Note: Use the Process permission with
Update so you can first get the message you want to update.</p></li>
<li><p><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions.PROCESS" title="azure.storage.queue.models.QueuePermissions.PROCESS"><strong>QueuePermissions.PROCESS</strong></a> (<a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueuePermissions" title="azure.storage.queue.models.QueuePermissions"><em>QueuePermissions</em></a>) – Delete entities.
Get and delete messages from the queue.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>read</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Read metadata and properties, including message count. Peek at messages.</p></li>
<li><p><strong>add</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Add messages to the queue.</p></li>
<li><p><strong>update</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Update messages in the queue. Note: Use the Process permission with
Update so you can first get the message you want to update.</p></li>
<li><p><strong>process</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#bool" title="(in Python v3.5)"><em>bool</em></a>) – Get and delete messages from the queue.</p></li>
<li><p><strong>_str</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A string representing the permissions.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="azure.storage.queue.aio.QueuePermissions.ADD">
<code class="sig-name descname">ADD</code><em class="property"> = &lt;azure.storage.queue.models.QueuePermissions object&gt;</em><a class="headerlink" href="#azure.storage.queue.aio.QueuePermissions.ADD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="azure.storage.queue.aio.QueuePermissions.PROCESS">
<code class="sig-name descname">PROCESS</code><em class="property"> = &lt;azure.storage.queue.models.QueuePermissions object&gt;</em><a class="headerlink" href="#azure.storage.queue.aio.QueuePermissions.PROCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="azure.storage.queue.aio.QueuePermissions.READ">
<code class="sig-name descname">READ</code><em class="property"> = &lt;azure.storage.queue.models.QueuePermissions object&gt;</em><a class="headerlink" href="#azure.storage.queue.aio.QueuePermissions.READ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="azure.storage.queue.aio.QueuePermissions.UPDATE">
<code class="sig-name descname">UPDATE</code><em class="property"> = &lt;azure.storage.queue.models.QueuePermissions object&gt;</em><a class="headerlink" href="#azure.storage.queue.aio.QueuePermissions.UPDATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.QueueProperties">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueueProperties</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/models.html#QueueProperties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueueProperties" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">azure.storage.queue._shared.models.DictMixin</span></code></p>
<p>Queue Properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="azure.keyvault.keys.html#azure.keyvault.keys.models.KeyBase.name" title="azure.keyvault.keys.models.KeyBase.name"><strong>name</strong></a> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The name of the queue.</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#dict" title="(in Python v3.5)"><em>dict</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a><em>)</em>) – A dict containing name-value pairs associated with the queue as metadata.
This var is set to None unless the include=metadata param was included
for the list queues operation. If this parameter was specified but the
queue has no metadata, metadata will be set to an empty dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="azure.storage.queue.aio.QueuePropertiesPaged">
<em class="property">class </em><code class="sig-prename descclassname">azure.storage.queue.aio.</code><code class="sig-name descname">QueuePropertiesPaged</code><span class="sig-paren">(</span><em class="sig-param">command</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">results_per_page=None</em>, <em class="sig-param">continuation_token=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/azure/storage/queue/aio/models.html#QueuePropertiesPaged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#azure.storage.queue.aio.QueuePropertiesPaged" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="azure.core.html#azure.core.async_paging.AsyncPageIterator" title="azure.core.async_paging.AsyncPageIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">azure.core.async_paging.AsyncPageIterator</span></code></a></p>
<p>An iterable of Queue properties.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service_endpoint</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The service URL.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – A queue name prefix being used to filter the list.</p></li>
<li><p><strong>current_marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token of the current page of results.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of results retrieved per API call.</p></li>
<li><p><strong>next_marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token to retrieve the next page of results.</p></li>
<li><p><strong>location_mode</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The location mode being used to list results. The available
options include “primary” and “secondary”.</p></li>
<li><p><strong>current_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.5)"><em>list</em></a><em>(</em><a class="reference internal" href="azure.storage.queue.html#azure.storage.queue.models.QueueProperties" title="azure.storage.queue.models.QueueProperties"><em>QueueProperties</em></a><em>)</em>) – The current page of listed results.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>callable</em>) – Function to retrieve the next page of items.</p></li>
<li><p><strong>prefix</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – Filters the results to return only queues whose names
begin with the specified prefix.</p></li>
<li><p><strong>results_per_page</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/functions.html#int" title="(in Python v3.5)"><em>int</em></a>) – The maximum number of queue names to retrieve per
call.</p></li>
<li><p><strong>marker</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – An opaque continuation token.</p></li>
</ul>
</dd>
</dl>
<p>Return an async iterator of pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>get_next</strong> – Callable that take the continuation token and return a HTTP response</p></li>
<li><p><strong>extract_data</strong> – Callable that take an HTTP response and return a tuple continuation token,
list of ReturnType</p></li>
<li><p><strong>continuation_token</strong> (<a class="reference external" href="https://docs.python.org/3.5/library/stdtypes.html#str" title="(in Python v3.5)"><em>str</em></a>) – The continuation token needed by get_next</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="azure.servicemanagement.html" class="btn btn-neutral float-right" title="azure.servicemanagement package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="azure.storage.queue.html" class="btn btn-neutral float-left" title="azure.storage.queue package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Microsoft

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62780441-36"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-62780441-36');
</script>


</body>
</html>